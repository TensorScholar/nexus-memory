\* NEXUS Epoch-Based Reclamation Model Configuration
SPECIFICATION Spec
INVARIANTS 
    TypeInvariant
    SafetyInvariant
    MemorySafety
    EpochMonotonicity
    GarbageEventuallyReclaimed
    NoMemoryLeaks
    ProtectedMemoryValid
    SimulationRelation
    RefinementWellDefined
    RefinedMemorySafety

PROPERTIES
    LivenessProperty
    EventualGarbageCollection
    FairScheduling
    SafetyPreservation
    LivenessPreservation

CONSTANTS
    Threads = {t1, t2, t3}
    Memory = {m1, m2, m3, m4}
    MaxEpoch = 10
    ConcreteThreads = {ct1, ct2, ct3, ct4}
    ConcreteMemory = {cm1, cm2, cm3, cm4, cm5, cm6}
    MaxConcreteEpoch = 15

CONSTRAINT
    /\ \A t \in Threads : epoch[t] <= MaxEpoch
    /\ Len(garbage) <= 6
    /\ \A t \in ConcreteThreads : implEpoch[t] <= MaxConcreteEpoch
    /\ Len(implGarbage) <= 8

SYMMETRY Permutations(Threads) \cup Permutations(Memory)
CHECK_DEADLOCK TRUE
WORKERS 8
MEMORY 8192
DEPTH 100